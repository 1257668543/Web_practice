<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <button id="btn">console</button>
  </div>

  <script>
    // 在规定的时间内未触发第二次，则执行
    function debounce(func, delay) {
      // 利用闭包保存定时器
      let timer = null
      console.log(timer)
      return function () {
        // 在规定的时间内再次触发会清除定时器后再重设定时器
        clearTimeout(timer)
        timer = setTimeout(() => {
          func.apply(this, arguments)
        }, delay)
      }
    }

    window.onscroll = debounce(function () {
      console.log('scroll')
    }, 1000)
 
    document.getElementById('btn').addEventListener('click', debounce(fn, 1000))
    function fn() {
      console.log('wl')
    }

  </script>
</body>

</html>