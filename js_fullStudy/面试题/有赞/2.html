<!-- 头条 -->
<!-- 实现对a这个实例对象用for-of遍历 -->
<script>
  class A {
    items = ['1', '2', '3'];
    [Symbol.iterator] = function () {
      let that = this
      let i = 0
      return {
        next() {
          if (i === that.items.length) {
            return {
              done: true,
              value: undefined
            }
          }
          let res = {
            done: false,
            value: that.items[i]
          }
          i++;
          return res;
        }
      }
    }
  }

  const a = new A()

  for (const i of a) {
    // i
    // '1'
    // '2'
    // '3'
    console.log(i);
  }
</script>